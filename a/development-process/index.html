<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>ELMAH&mdash;Development Process</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.3.1">
  <link rel="alternate" type="application/atom+xml" title="Recent commits to master branch" href="https://github.com/elmah/www/commits/master.atom">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="/css/screen.css">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  <header role="banner">
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/downloads/"><i class="fa fa-download show-on-mobiles"></i><span class="hide-on-mobiles">Download</span></a>
  </li>
  <li>
    <a href="https://github.com/elmah/Elmah"><i class="fa fa-github show-on-mobiles"></i><span class="hide-on-mobiles">Sources</span></a>
  </li>
  <li class="">
    <a href="/help/"><i class="fa fa-question-circle show-on-mobiles"></i><span class="hide-on-mobiles">Help</span></a>
  </li>
  <li>
    <a href="https://github.com/elmah/www"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <h1>
        <i class="fa fa-bolt"></i>
        <a href="/">
          <span title="Error Logging Modules and Handlers">ELMAH</span>
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/downloads/"><i class="fa fa-download show-on-mobiles"></i><span class="hide-on-mobiles">Download</span></a>
  </li>
  <li>
    <a href="https://github.com/elmah/Elmah"><i class="fa fa-github show-on-mobiles"></i><span class="hide-on-mobiles">Sources</span></a>
  </li>
  <li class="">
    <a href="/help/"><i class="fa fa-question-circle show-on-mobiles"></i><span class="hide-on-mobiles">Help</span></a>
  </li>
  <li>
    <a href="https://github.com/elmah/www"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


  <section class="standalone">
  <div class="grid">

    <div class="unit whole">
      <article>
        <div class="improve right hide-on-mobiles">
          <a href="https://github.com/elmah/www/edit/master/DevelopmentProcess.md"><i class="fa fa-pencil"></i> &nbsp;Improve this page</a>
        </div>
        <h1>Development Process</h1>
        <ul id="markdown-toc">
  <li><a href="#target-users" id="markdown-toc-target-users">Target users</a></li>
  <li><a href="#version-control" id="markdown-toc-version-control">Version control</a>    <ul>
      <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
      <li><a href="#mercurial-installation" id="markdown-toc-mercurial-installation">Mercurial installation</a></li>
      <li><a href="#making-a-clone-of-the-repository" id="markdown-toc-making-a-clone-of-the-repository">Making a clone of the repository</a></li>
      <li><a href="#bringing-in-new-changes-from-the-master-repository" id="markdown-toc-bringing-in-new-changes-from-the-master-repository">Bringing in new changes from the master repository</a></li>
      <li><a href="#committing-changes-locally" id="markdown-toc-committing-changes-locally">Committing changes locally</a></li>
      <li><a href="#pushing-changes-to-your-online-clone" id="markdown-toc-pushing-changes-to-your-online-clone">Pushing changes to your online clone</a></li>
      <li><a href="#requesting-a-code-review" id="markdown-toc-requesting-a-code-review">Requesting a code review</a></li>
    </ul>
  </li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>

<h2 id="target-users">Target users</h2>

<p>This document is for programmers who want to contribute changes to ELMAH.</p>

<h2 id="version-control">Version control</h2>

<h3 id="overview">Overview</h3>

<p>ELMAH uses Mercurial, a distributed version control system. What this means is that, even though this page hosts a central repository, there can be many clone repositories with changes of their own, and then some of those can be merged back into the main repository.</p>

<p>The model for developing for ELMAH is the following:</p>

<ol>
  <li>Each developer creates a fork of the <a href="https://bitbucket.org/project-elmah/main">main ELMAH repository</a>. This fork is hosted on Bitbucket servers.</li>
  <li>The developer then makes a local clone of his fork, which is then at his local machine.</li>
  <li>The developer writes new code into his local clone and commits it locally.</li>
  <li>When a change is ready to be integrated back into the main repository, that change is pushed from the developer’s local clone to his fork.</li>
  <li>The developer then creates a pull request including a description of what the change is supposed to do, and what are the relevant commits.</li>
  <li>The code will be reviewed - if any further changes are suggested, the process repeats from (3)</li>
  <li>Once the change is approved, a member of the ELMAH team will merge it back into the main repository</li>
</ol>

<p>Next is an overview of each step, but if you want to really learn Mercurial, please look at the references at the bottom of this document.</p>

<h3 id="mercurial-installation">Mercurial installation</h3>

<p>First, make sure you have Mercurial installed by running the command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg version
Mercurial Distributed SCM <span class="o">(</span>version 2.0.1<span class="o">)</span>
<span class="o">(</span>see http://mercurial.selenic.com <span class="k">for</span> more information<span class="o">)</span>

Copyright <span class="o">(</span>C<span class="o">)</span> 2005-2011 Matt Mackall and others
This is free software<span class="p">;</span> see the <span class="nb">source </span><span class="k">for</span> copying conditions. There is NO
warranty<span class="p">;</span> not even <span class="k">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</code></pre></figure>

<p>If you don’t want your hostname and username to be made public, you can change how you’re identified in commits you make by editing your ~/.hgrc file:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>ui<span class="o">]</span>
<span class="nv">username</span> <span class="o">=</span> John Doe</code></pre></figure>

<h3 id="making-a-clone-of-the-repository">Making a clone of the repository</h3>

<p>We’ll need to create two clones of the main ELMAH repository - one online, and then a local clone of that one.</p>

<p>To create the online clone, click on <strong>Fork</strong> link. Give your clone a name and description, then click on <strong>Fork repository</strong>. At that point the online clone is ready.</p>

<p>To create the local clone, click on <strong>Source</strong> tab of your clone page, and then use the checkout command provided there:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">hg clone https://johndoe@bitbucket.org/johndoe/main johndoe-elmah</code></pre></figure>

<p>Optionally, you can add your username and password to it (so you don’t have to type them in every time):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">hg clone https://johndoe@bitbucket.org/johndoe/main johndoe-elmah</code></pre></figure>

<p>and that’s it - you have a local copy of your clone (in this example, in subdirectory johndoe-elmah) which you can then make changes to.</p>

<h3 id="bringing-in-new-changes-from-the-master-repository">Bringing in new changes from the master repository</h3>

<p>The recommended way of bringing changes in from the main repository is the use of hg fetch:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg fetch https://bitbucket.org/project-elmah/main</code></pre></figure>

<p>Please note that the fetch command is a Mercurial extension which is equivalent to hg pull -u plus hg merge plus hg commit - for more details please see the references, but this basically means that it will try to merge the incoming changes with your local changes.</p>

<p>If you want to see what will be brought in with the above command before running it, you can use:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg incoming</code></pre></figure>

<h3 id="committing-changes-locally">Committing changes locally</h3>

<p>Commiting changes locally is easy - run hg status to see the state of your local clone:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg status
?  MyNewFile
M  MyChangedFile
!  MyDeletedFile</code></pre></figure>

<p>In the above example, it shows one file that it knows nothing about (MyNewFile), one that it knows about but is missing (MyDeletedFile) and one that has had changes made to it.</p>

<p>To add all the previously unknown files and remove any missing files, use the addremove command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg addremove
Adding MyNewFile
Deleting MyDeletedFile</code></pre></figure>

<p>hg status then shows the new status:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg status
A  MyNewFile
M  MyChangedFile
D  MyDeletedFile</code></pre></figure>

<p>If you wish to see what has changed, you can use the hg diff command. Finally, you can commit the changes with</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg commit</code></pre></figure>

<p>which will open an editor for you to type in a description for these changes. Optionally, you can specify filenames to hg commit in order to commit only part of your current changes.</p>

<p><strong>IMPORTANT</strong>: When your change is pulled into the main ELMAH source, the change description that you entered here will show up as changes in the main ELMAH source, so please use a meaningful description - “fixing bug”, “making changes”, etc. are not ok, please instead use something like “fixing GPX import bug caused bnull pointer”, “adding Russian translation”, etc. so that it makes sense in the context of ELMAH as a whole, not just your clone.</p>

<h3 id="pushing-changes-to-your-online-clone">Pushing changes to your online clone</h3>

<p>Pushing changes to your online clone is incredibly simple:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg push
pushing to https://johndoe:***@bitbucket.org/johndoe/main
searching <span class="k">for</span> changes
adding changesets
adding manifests
adding file changes
added <span class="m">1</span> changesets with <span class="m">1</span> changes to <span class="m">1</span> files</code></pre></figure>

<p>and you’re done.</p>

<p>If you want to see what changes you’re going to push before you do it, you can also use the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>hg outgoing
comparing with https://johndoe:***@bitbucket.org/johndoe/main
searching <span class="k">for</span> changes
changeset:   5:b6fed4f21233
tag:         tip
user:        John Doe
date:        Tue May <span class="m">05</span> 06:55:53 <span class="m">2009</span> +0000
summary:     Added an extra line of output</code></pre></figure>

<h3 id="requesting-a-code-review">Requesting a code review</h3>

<p>To request a code review, create a new pull request from your online clone to the original online clone of ELMAH. Someone will then review the code changes and integrate them when ready.</p>

<h2 id="references">References</h2>

<p><a href="http://hgbook.red-bean.com/">Mercurial: The definitive guide</a></p>

<hr />

<p>This wiki was adapted from the <a href="http://code.google.com/p/mytracks/wiki/DevelopmentProcess">Development Process wiki of mytracks project</a>.</p>

      </article>
    </div>

    <div class="clear"></div>

  </div>
</section>


  <footer role="contentinfo">
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>&copy;&nbsp;2004 <a href="http://www.raboof.com/">Atif Aziz</a> under the terms of the <a href="http://www.apache.org/licenses/LICENSE-2.0" title="Apache License, Version 2.0">ALv2</a>.
         Portions &copy;&nbsp;2008 <a href="http://tom.preston-werner.com/">Tom Preston-Werner</a> under <a href="https://github.com/jekyll/jekyll/blob/master/LICENSE">MIT&nbsp;License</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>Published: 2017-10-13 19:55 CEST</p>
    </div>
  </div>
</footer>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0]
                      || document.getElementsByClassName("news")[0]
                      || document.getElementsByClassName("standalone")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  

</body>
</html>
